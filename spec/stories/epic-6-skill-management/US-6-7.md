---
title: "US-6.7: Skill Score Analytics"
epic: Skill Management
status: Planned
priority: Medium
github_issue: ""
---

# US-6.7: Skill Score Analytics

## Description

As a **user**,
I want to **see analytics across all my skills**,
So that **I can understand my overall learning progress and identify areas to focus on**.

---

## Acceptance Criteria

| AC | Title | Description |
|----|-------|-------------|
| AC-6.7.1 | Overall Statistics | Summary stats across all skills |
| AC-6.7.2 | Skills Comparison | Compare progress across skills |
| AC-6.7.3 | Activity Trends | View assessment frequency |
| AC-6.7.4 | Recommendations | Identify skills needing attention |

---

### AC-6.7.1: Overall Statistics

```gherkin
Scenario: View overall statistics
  Given I am tracking multiple skills with various scores
  When I navigate to "/dashboard/skills/analytics"
  Then I should see overall statistics:
    | Metric                | Description                    |
    | Total Skills Tracked  | Number of skills I'm tracking  |
    | Average Score         | Mean score across all skills   |
    | Highest Skill         | Skill with highest score       |
    | Lowest Skill          | Skill with lowest score        |
    | Total Assessments     | Total score entries recorded   |

Scenario: Level distribution
  Given I have skills at various levels
  When I view the analytics
  Then I should see a bar chart showing:
    | Level        | Count |
    | Expert       | 1     |
    | Advanced     | 3     |
    | Intermediate | 2     |
    | Elementary   | 1     |
    | Beginner     | 0     |
```

### AC-6.7.2: Skills Comparison

```gherkin
Scenario: Compare skills with radar chart
  Given I am tracking skills: Reading (75), Listening (60), Speaking (50), Writing (80)
  When I view the skills comparison chart
  Then I should see a radar/spider chart
  And each skill should be a point on the chart
  And I can easily compare relative strengths

Scenario: Skills comparison table
  Given I am tracking multiple skills
  When I view the comparison table
  Then I should see all skills with:
    | Skill     | Current | First | Change | Entries |
    | Writing   | 80      | 50    | +30    | 15      |
    | Reading   | 75      | 60    | +15    | 12      |
    | Speaking  | 50      | 40    | +10    | 8       |
  And skills should be sortable by any column
```

### AC-6.7.3: Activity Trends

```gherkin
Scenario: View assessment frequency
  Given I have been recording scores over the past months
  When I view the activity trends section
  Then I should see a heatmap or calendar view
  And days with assessments should be highlighted
  And I should see "5 assessments this week" summary

Scenario: Weekly activity summary
  Given I have assessments recorded this week
  When I view the activity summary
  Then I should see:
    | Day       | Assessments |
    | Monday    | 2           |
    | Tuesday   | 0           |
    | Wednesday | 1           |
    | Thursday  | 3           |
    | Friday    | 0           |
  And I should see "6 total assessments this week"

Scenario: Most active skills
  Given I have recorded many assessments
  When I view the activity trends
  Then I should see "Most Practiced Skills":
    | Skill     | Assessments |
    | Reading   | 25          |
    | Listening | 18          |
    | Speaking  | 10          |
```

### AC-6.7.4: Recommendations

```gherkin
Scenario: Skills needing attention
  Given I have skills with varying activity levels:
    | Skill     | Last Assessed | Score |
    | Reading   | 2 days ago    | 75    |
    | Writing   | 30 days ago   | 50    |
    | Speaking  | 60 days ago   | 40    |
  When I view the recommendations section
  Then I should see "Skills Needing Attention":
    | Skill    | Reason                         |
    | Speaking | Not assessed in 60 days        |
    | Writing  | Low score, not assessed in 30d |

Scenario: Improvement suggestions
  Given I have a skill "Listening" with recent decline
  When I view recommendations
  Then I should see "Listening score dropped from 65 to 55"
  And I should see suggestion "Consider more practice sessions"

Scenario: Celebration for progress
  Given I have a skill with significant improvement
  When I view the analytics
  Then I should see a celebration message
  And I should see "Reading improved by 25 points!"
```

---

## Technical Notes

### Implementation
- **Page**: `src/app/dashboard/skills/analytics/page.tsx` - Analytics page
- **API**: `src/app/api/me/skills/analytics/route.ts` - Analytics endpoint
- **Components**:
  - `src/components/SkillsRadarChart.tsx` - Comparison radar chart
  - `src/components/ActivityHeatmap.tsx` - Activity calendar view

### Database
```sql
-- Overall statistics
SELECT
  COUNT(DISTINCT skill_id) as total_skills,
  AVG(current_score) as avg_score,
  MAX(current_score) as highest_score,
  MIN(current_score) as lowest_score
FROM Users_Skills
WHERE user_id = :userId AND current_score IS NOT NULL;

-- Level distribution
SELECT
  CASE
    WHEN current_score <= 20 THEN 'beginner'
    WHEN current_score <= 40 THEN 'elementary'
    WHEN current_score <= 60 THEN 'intermediate'
    WHEN current_score <= 80 THEN 'advanced'
    ELSE 'expert'
  END as level,
  COUNT(*) as count
FROM Users_Skills
WHERE user_id = :userId AND current_score IS NOT NULL
GROUP BY level;

-- Skills needing attention (not assessed in 30+ days)
SELECT s.name, us.current_score, us.last_assessed_at
FROM Users_Skills us
JOIN Skills s ON us.skill_id = s.id
WHERE us.user_id = :userId
  AND (us.last_assessed_at < datetime('now', '-30 days') OR us.current_score < 40)
ORDER BY us.last_assessed_at ASC;

-- Activity by day (last 7 days)
SELECT date(created_at) as day, COUNT(*) as count
FROM Users_Skills_History h
JOIN Users_Skills us ON h.user_skill_id = us.id
WHERE us.user_id = :userId
  AND created_at >= datetime('now', '-7 days')
GROUP BY day;
```

### API Endpoints
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/me/skills/analytics` | Get full analytics |
| GET | `/api/me/skills/analytics/summary` | Quick summary only |
| GET | `/api/me/skills/analytics/activity` | Activity trends |

### Response Format
```json
{
  "overall": {
    "totalSkills": 5,
    "avgScore": 65.5,
    "highestSkill": { "name": "Writing", "score": 80 },
    "lowestSkill": { "name": "Speaking", "score": 50 },
    "totalAssessments": 45
  },
  "levelDistribution": {
    "expert": 1,
    "advanced": 2,
    "intermediate": 1,
    "elementary": 1,
    "beginner": 0
  },
  "skillsComparison": [
    { "name": "Reading", "currentScore": 75, "firstScore": 60, "change": 15 }
  ],
  "recommendations": [
    { "skill": "Speaking", "reason": "Not assessed in 45 days", "action": "Record a score" }
  ],
  "activityByDay": [
    { "date": "2025-12-13", "count": 3 },
    { "date": "2025-12-12", "count": 1 }
  ]
}
```

---

## RICE Score

| Factor | Value | Rationale |
|--------|-------|-----------|
| Reach | 30% | Users with multiple skills/data |
| Impact | 1 (Low-Medium) | Nice-to-have insights |
| Confidence | 80% | Standard analytics patterns |
| Effort | 0.5 week | Aggregation queries + charts |

**Score:** (30 × 1 × 0.8) / 0.5 = **48**
