---
title: "US-6.6: Progress Visualization"
epic: Skill Management
status: Planned
priority: High
github_issue: ""
---

# US-6.6: Progress Visualization

## Description

As a **user**,
I want to **see charts and graphs of my skill progress over time**,
So that **I can visualize my improvement and stay motivated**.

---

## Acceptance Criteria

| AC | Title | Description |
|----|-------|-------------|
| AC-6.6.1 | Score Trend Chart | Line chart showing score progression |
| AC-6.6.2 | Time Range Selection | View progress over different periods |
| AC-6.6.3 | Source Breakdown | See distribution of score sources |
| AC-6.6.4 | Progress Summary | Key metrics and insights |

---

### AC-6.6.1: Score Trend Chart

```gherkin
Scenario: View score trend chart
  Given I am logged in as a user
  And I have multiple score entries for "Reading" over time
  When I view the "Reading" skill detail page
  Then I should see a line chart showing score progression
  And the X-axis should show dates
  And the Y-axis should show scores (0-100)
  And each point should represent a recorded score

Scenario: Chart with single data point
  Given I have only one score entry for "Writing"
  When I view the chart
  Then I should see a single point on the chart
  And I should see a message "Record more scores to see trends"

Scenario: Chart hover interaction
  Given I am viewing the score trend chart
  When I hover over a data point
  Then I should see a tooltip with:
    | Score  | 75                  |
    | Source | test                |
    | Date   | Dec 13, 2025        |
    | Note   | IELTS practice      |
```

### AC-6.6.2: Time Range Selection

```gherkin
Scenario: View last 30 days
  Given I have scores recorded over several months
  When I select "Last 30 days" time range
  Then the chart should only show scores from the last 30 days
  And the X-axis should adjust to show daily granularity

Scenario: View last 3 months
  Given I have scores recorded over several months
  When I select "Last 3 months" time range
  Then the chart should show scores from the last 3 months
  And the X-axis should show weekly or bi-weekly intervals

Scenario: View all time
  Given I have scores recorded over a year
  When I select "All time" time range
  Then the chart should show all recorded scores
  And the X-axis should show monthly intervals

Scenario: Custom date range
  Given I want to see a specific period
  When I select "Custom range"
  And I set start date to "2025-01-01" and end date to "2025-06-30"
  Then the chart should show scores within that range
```

### AC-6.6.3: Source Breakdown

```gherkin
Scenario: View source distribution pie chart
  Given I have scores from different sources:
    | Source     | Count |
    | test       | 5     |
    | practice   | 10    |
    | assessment | 3     |
  When I view the source breakdown section
  Then I should see a pie/donut chart
  And "practice" should show 55.5% (10/18)
  And "test" should show 27.8% (5/18)
  And "assessment" should show 16.7% (3/18)

Scenario: Average score by source
  Given I have test scores averaging 75 and practice scores averaging 60
  When I view the source breakdown
  Then I should see average score for each source
  And I should see "Tests: 75 avg" and "Practice: 60 avg"
```

### AC-6.6.4: Progress Summary

```gherkin
Scenario: View progress summary
  Given I have recorded scores over time for "Reading"
  When I view the progress summary
  Then I should see:
    | Metric              | Value      |
    | Current Score       | 75         |
    | Starting Score      | 45         |
    | Improvement         | +30 points |
    | Total Entries       | 12         |
    | Days Tracking       | 90         |
    | Average Score       | 62         |

Scenario: Improvement indicator
  Given my first score was 45 and current score is 75
  When I view the progress summary
  Then I should see a green up arrow with "+30"
  And I should see "Great progress!" message

Scenario: No improvement indicator
  Given my first score was 70 and current score is 65
  When I view the progress summary
  Then I should see a red down arrow with "-5"
  And I should see "Keep practicing!" encouragement
```

---

## Technical Notes

### Implementation
- **Page**: `src/app/dashboard/skills/[id]/page.tsx` - Skill detail with charts
- **API**: `src/app/api/me/skills/[skillId]/stats/route.ts` - Statistics endpoint
- **Component**: `src/components/ProgressChart.tsx` - Chart component

### Chart Library
- Use lightweight chart library (e.g., Chart.js, Recharts)
- Support responsive design for mobile
- Accessible color schemes

### Database
```sql
-- Get scores for chart
SELECT score, source, created_at
FROM Users_Skills_History
WHERE user_skill_id = :userSkillId
  AND created_at >= :startDate
ORDER BY created_at ASC;

-- Get source distribution
SELECT source, COUNT(*) as count, AVG(score) as avg_score
FROM Users_Skills_History
WHERE user_skill_id = :userSkillId
GROUP BY source;

-- Get progress summary
SELECT
  (SELECT score FROM Users_Skills_History WHERE user_skill_id = :id ORDER BY created_at ASC LIMIT 1) as first_score,
  (SELECT score FROM Users_Skills_History WHERE user_skill_id = :id ORDER BY created_at DESC LIMIT 1) as current_score,
  COUNT(*) as total_entries,
  AVG(score) as avg_score,
  MIN(created_at) as first_entry_date
FROM Users_Skills_History
WHERE user_skill_id = :userSkillId;
```

### API Endpoints
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/me/skills/:skillId/stats` | Get statistics |
| GET | `/api/me/skills/:skillId/stats?range=30d` | Filter by time range |

### Response Format
```json
{
  "chartData": [
    { "date": "2025-12-01", "score": 50, "source": "test" },
    { "date": "2025-12-05", "score": 55, "source": "practice" },
    { "date": "2025-12-10", "score": 65, "source": "practice" },
    { "date": "2025-12-13", "score": 75, "source": "test" }
  ],
  "sourceBreakdown": {
    "test": { "count": 2, "avgScore": 62.5 },
    "practice": { "count": 2, "avgScore": 60 }
  },
  "summary": {
    "currentScore": 75,
    "firstScore": 50,
    "improvement": 25,
    "totalEntries": 4,
    "daysTracking": 12,
    "avgScore": 61.25
  }
}
```

---

## RICE Score

| Factor | Value | Rationale |
|--------|-------|-----------|
| Reach | 40% | Users with enough data points |
| Impact | 2 (High) | Motivation and insights |
| Confidence | 80% | Standard charting patterns |
| Effort | 1 week | Chart integration + calculations |

**Score:** (40 × 2 × 0.8) / 1 = **64**
